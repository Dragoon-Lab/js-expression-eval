<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>Test math parser</title>
<!-- Using Dojo to handle the AMD.  It is not used by parser.js -->
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/dojo/1.9.2/dojo/dojo.js"></script>
<script type="text/javascript">
    require(["./parser.js"],function(Parser){
        console.log("parser loaded", Parser);
        submit = function(){
            var expr = document.getElementById('fName').value;
            var verboseOutput = document.getElementById('verboseOutput');
            var prettyOutput = document.getElementById('prettyOutput');
            var variables = document.getElementById('variables');
            var isVariable = document.getElementById('isVariable');
            isVariable.innerHTML = "Is" + (Parser.isVariable(expr)?"":" not") + " a variable.";
            var parse = Parser.parse(expr);
            console.log("Parsed expression: ", parse);
            console.log("Operator content: ", parse.operators());
            verboseOutput.innerHTML = "verbose parse is:  " + parse.toString(true);
            prettyOutput.innerHTML = "pretty parse is:  " + parse.toString();
            variables.innerHTML = "variables:  "
            parse.variables().forEach(function(x){
                variables.innerHTML += x;
                variables.innerHTML += " ";
            });
        };
    });
//});

</script>
</head>

<body>
    <h1>Test math parser</h1>

    Input math expression:<br>
    <input class="textBox" id="fName" type="text" maxlength="30" required/> &nbsp; &nbsp; 
    <input type="button" class="loginButtons" value="Parse" onclick="submit();"/>
    <div id='verboseOutput'>verbose here</div>
    <div id='prettyOutput'>pretty here</div>
    <div id='variables'>variable list here</div>
    <div id='isVariable'>variable test here</div>

</body>
</html>
